<!DOCTYPE html>
<html lang="en">
<head>
    <title>AlphaESS</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/reset.css"/>

    <link rel="stylesheet" type="text/css" href="css/common.css"/>
    <link rel="stylesheet" type="text/css" href="css/font.css"/>

    <link rel="stylesheet" type="text/css" href="css/index.css">
    <style>

    </style>
    <script type="text/javascript" src="js/jquery-1.11.3.js"></script>
    <script>
        $(document).ready(function () {
            var boxWidth = $(".head-menu").width();
            var boxHeight = 80;
            var winWidth = $(window).width();

            var animation = true;

            console.log("winWidth:" + (winWidth))
            console.log("winWidth - boxWidth:" + (winWidth - boxWidth))
            $(".menu-all").mouseenter(function(mee){
                    $(".menu-button").animate({
                        top: "0px"
                    },"normal", function(){
                        console.log(11)
                    });
            }).mouseleave(function(moe){
                $(".menu-button").animate({
                    top: "-80px"
                },"normal", function(){
                    console.log(11)
                });
            })

            $(".menu-button").click(function(){
                window.location.href = $(this).children("a").attr("href");
            });


            var current = judge(0);
            var photoSwitchInterval;
            var featureInterval;
            var contactInterval;
            handleAnimation(current)
            $(window).scroll(function (e) {
                if (judge(current) != undefined) {
                    current = judge(current);
                    handleAnimation(current)

                }
            });

            var houseArr = ["morning-house", "afternoon-house", "evening-house", "ups-house"];
            var timeArr = ["yellowsun", "redsun", "moon", "moon"];
            var houseIndex = 1;

            function featureFunction() {
                console.log("running 2")
                var $next = $(".current-period").removeClass("current-period").next(".period-introduction")
                if ($next.length == 0) {
                    $next = $(".period-introduction").eq(0);
                }
                $next.addClass("current-period");

                var prevIndex;
                if (houseIndex == 0) {
                    prevIndex = 3;
                } else {
                    prevIndex = houseIndex - 1;
                }

                var prev = houseArr[prevIndex];
                var now = houseArr[houseIndex];

                var prevIco = timeArr[prevIndex];
                var nowIco = timeArr[houseIndex];

                console.log(prevIco)

                $(".house").removeClass(prev).addClass(now);
                $(".time-ico").removeClass(prevIco).addClass(nowIco);
                if (houseIndex++ >= 3) {
                    houseIndex = 0;
                }
            }

            function handleAnimation(current) {
                clearOtherInterval(current);
                switch (current) {
                    case 1 :
                        console.log("call 1")
//                        photoSwitchInterval = setInterval(function () {
//                            console.log("running 1")
//                            for (var i = 1; i <= 4; i++) {
//                                if (Math.random() > 0.5) {
//                                    $(".photo1_" + i).animate({
//                                        opacity: 1 - $(".photo1_" + i).css("opacity")
//                                    }, 1000);
//                                    $(".photo2_" + i).animate({
//                                        opacity: 1 - $(".photo2_" + i).css("opacity")
//                                    }, 1000);
//                                }
//                            }
//                        }, 3000);
//                        break;
                    case 2:
                        console.log("call 2")
                        featureInterval = setInterval(featureFunction, 5000);
                        $(".clock").addClass("running-clock");
                        break;
                    case 3:
                        console.log("call 3")
                        break;
                    case 4:
                        console.log("call 4");
                        var i = 0;
                        contactInterval = setInterval(function () {
                            $(".time" + ++i).animate({
                                opacity: 1
                            }, 500);
                            console.log("running 4")
                        }, 1000);
                        break;
                    default :

                }
            }

            var content_1 = 500;
            var content_2 = 600;
            var content_3 = 150;
            var content_4 = 700;

            function judge(current) {
                if ($(window).scrollTop() >= 0 && $(window).scrollTop() <= content_1) {
                    if (current != 1) {
                        return 1;
                    }
                } else if ($(window).scrollTop() > content_1 && $(window).scrollTop() <= content_1 + content_2 + content_3) {
                    if (current != 2) {
                        return 2;
                    }
                } else if ($(window).scrollTop() > content_1 + content_2 + content_3 && $(window).scrollTop() <= content_1 + content_2 + content_3 + content_4) {
                    if (current != 3) {
                        return 3;
                    }
                } else if ($(window).scrollTop() > content_1 + content_2 + content_3 + content_4) {
                    if (current != 4) {
                        return 4;
                    }
                }
            }


            function clearOtherInterval(now) {
                if (now != 1) {
                    clearInterval(photoSwitchInterval);
                }
                if (now != 2) {
                    clearInterval(featureInterval);
                    $(".clock").removeClass("running-clock");
                }
                if (now != 3) {
                }
                if (now != 4) {
                    clearInterval(contactInterval);
                    $(".time").css("opacity", 0);
                }
            }

//            $(".clock").mouseenter(function () {
//                $(this).removeClass("running-clock");
//                clearInterval(featureInterval);
//            })
//            $(".clock").mouseout(function () {
//                $(this).addClass("running-clock");
//                featureInterval = setInterval(featureFunction, 5000);
//            });

            var current = 0;
            setInterval(function(){
                if(++current < 2){
                    for(var i = current;i <= 2;i++) {
                        $(".banner-" + i).animate({
                            left: (100 * (i - current - 1)) + "%"
                        },1000);
                    }
                }else{
                    current = 0;
                    for(var j = 1;j <= 2;j++){
                        $(".banner-" + j).animate({
                            left: (100 * (j - 1)) + "%"
                        },1000);
                    }
                }
            },5000)
        });
    </script>
</head>
<body>
<div class="head">
    <div class="head-menu">
        <ul class="menu-all">
            <li class="menu-button"><a href="index.html">Home</a></li>
            <li class="menu-button"><a href="company.html">About Us</a></li>
            <li class="menu-button"><a href="product.html">Products</a></li>
            <li class="menu-button"><a href="newslist.html">News</a></li>
            <li class="menu-button"><a href="career.html">Career</a></li>
            <li class="menu-button"><a href="http://www.alphes.com">Old Log-in</a></li>
            <li class="menu-button"><a href="http://www.alphaess.com">New Log-in</a></li>
        </ul>
    </div>
</div>
<div class="content content-1 clearfix">
    <div class="banner banner-1"></div>
    <div class="banner banner-2"></div>
</div>
<div class="content content-2 clearfix">
    <div class="clock-wrapper">
        <div class="clock">
        </div>
        <div class="house morning-house">
            <div class="time-ico yellowsun"></div>
        </div>
        <div class="period-introduction-wrapper">
            <div class="period-introduction morning-introduction current-period">
                <div class="feature-link"></div>
                <div class="period">
                    <div class="period-title morning">Morning</div>
                    <div class="period-detail">The energy produced by the PV module is used to optimize
                        self-consumption; the surplus energy will be used to recharge the batteries.
                    </div>
                </div>
            </div>
            <div class="period-introduction noon-introduction">
                <div class="feature-link"></div>
                <div class="period">
                    <div class="period-title afternoon">Afternoon</div>
                    <div class="period-detail">When the batteries are fully charged and Alpha system already meets your
                        self-consumption requirements, the surplus energy will be fed into public grid.
                    </div>
                </div>
            </div>
            <div class="period-introduction evening-introduction">
                <div class="feature-link"></div>
                <div class="period">
                    <div class="period-title evening">Evening</div>
                    <div class="period-detail">Once the sun sets, Alpha system will automatically switch to
                        battery-stored energy. If the battery capacity or power is insufficient to meet your consumption
                        requirements, electricity will then be obtained from public grid.
                    </div>
                </div>
            </div>
            <div class="period-introduction midnight-introduction">
                <div class="feature-link"></div>
                <div class="period">
                    <div class="period-title ups">UPS</div>
                    <div class="period-detail">When the grid fails, Alpha system can switch to off-grid mode
                        automatically and supply the loads.
                    </div>
                </div>
            </div>
        </div>
        <!--<div class="hill-introduction">-->
            <!--<p>The Graphs are showing the electricity produced-->
                <!--during the day and used in the home,with the excess-->
                <!--electricity channelled into the battery storage unit-->
                <!--which is then stored for later use when the sun is not-->
                <!--shining-->
            <!--</p>-->
        <!--</div>-->
        <!--<div class="hill"></div>-->
        <div class="statement">
            <ul>
                <li>
                    <div class="link"></div>
                    <div class="statement-detail"></div>
                </li>
                <li>
                    <div class="link"></div>
                    <div class="statement-detail"></div>
                </li>
                <li>
                    <div class="link"></div>
                    <div class="statement-detail"></div>
                </li>
                <li>
                    <div class="link"></div>
                    <div class="statement-detail"></div>
                </li>
            </ul>
        </div>
    </div>
</div>

<!--<div class="content smile-content clearfix">-->
<!--<div class="smile"></div>-->
<!--</div>-->

<div class="content content-3 clearfix">
    <div class="content-warrent"></div>
</div>

<div class="content content-4 clearfix">
    <div class="contact">
        <div class="country">
            <div class="info-country info-german">
                <!--<span class="country-icon country-germany"></span>-->
                <span class="country-name">GERMANY</span>

                <ul class="country-info">
                    <li class="country-company-name">Alpha ESS Europe GmbH</li>
                    <li class="country-company-tel">Tel. +49 157 770 600 60</li>
                    <li class="country-company-email">E-mail. europe@alpha-ess.de</li>
                    <li class="country-company-web">www.alpha-ess.de</li>
                    <li class="country-company-add">Add. Paul-Ehrlich-Straße 1a, 63225 Langen</li>
                </ul>
            </div>
            <div class="info-country info-china">
                <!--<span class="country-icon country-china"></span>-->
                <span class="country-name">CHINA</span>

                <ul class="country-info">
                    <li class="country-company-name">Alpha Energy Storage Solution Co., Ltd.</li>
                    <li class="country-company-tel">Tel. +86 512 682 876 09</li>
                    <li class="country-company-email">E-mail. info@alpha-ess.com</li>
                    <li class="country-company-web">www.alpha-ess.com</li>
                    <li class="country-company-add">NW2, Nano Polis, No. 99 Jinji Lake Avenue, Industrial Park, Suzhou,215123</li>
                </ul>
            </div>
            <div class="info-country info-australia">
                <!--<span class="country-icon country-australia"></span>-->
                <span class="country-name">AUSTRALIA</span>

                <ul class="country-info">
                    <li class="country-company-name">ALPHA ESS AUSTRALIA PTY. LTD.</li>
                    <li class="country-company-tel">Tel. 1300 968 933(Australia Only)</li>
                    <li class="country-company-web">www.alpha-ess.com.au</li>
                    <li class="country-company-add">Add. UNIT M601,68 Mcevoy St, Alexandria Nsw 2015</li>
                </ul>

            </div>
        </div>
    </div>
</div>
<div class="public">
    <div class="public-container">
        <div class="pub-ico f-ico"></div>
        <div class="pub-ico in-ico"></div>
        <div class="pub-ico t-ico"></div>
        <div class="pub-ico g-ico"></div>
    </div>
    <div class="copyright">
        All rights Reserved
    </div>
</div>

</body>
</html>
